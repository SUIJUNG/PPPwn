TARGET = stage1OBJS = start.o stage1.oCC = gccOBJCOPY = objcopyCFLAGS = -DSMP -isystem ../freebsd-headers/include -Wl,--build-id=none -Os -fno-stack-protectorLDFLAGS = -T linker.ld -nostartfiles -nostdlibifneq ($(filter $(FW), 1100),)CFLAGS += -DFIRMWARE=$(FW)else$(error "Invalid firmware")endifall: $(TARGET).bin%.bin: %.elf	$(OBJCOPY) -S -O binary $^ $@$(TARGET).elf: $(OBJS)	$(CC) $(CFLAGS) $^ -o $@ $(LDFLAGS)clean:	@rm -f $(TARGET).bin $(TARGET).elf $(OBJS)
